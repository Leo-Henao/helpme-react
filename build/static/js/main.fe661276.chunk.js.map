{"version":3,"sources":["utils/InfoUsers.js","auth/AuthContext.js","types/types.js","auth/authReducer.js","auth/AuthProvider.js","components/ui/Footer.js","config/axiosConfig.js","services/AuthService.js","components/ui/NavBar.js","services/private/UserProfileService.js","utils/messages.js","components/user/Profile.js","services/public/DelitoService.js","services/private/CasoService.js","components/maps/MapEdit.js","components/cases/Reportar.js","components/ui/NoAuthorized.js","components/ui/Modal.js","components/crimes/Create.js","components/crimes/Crimes.js","components/ui/NotFound.js","routers/MenuRoutes.js","routers/NeutralRoute.js","components/ui/Card.js","components/About.js","services/public/MapService.js","components/maps/MapView.js","routers/NeutralRoutes.js","routers/PrivateRoute.js","routers/PublicRoute.js","components/login/LoginApp.js","services/UserService.js","components/login/Register.js","routers/PublicRoutes.js","routers/AppRouter.js","App.js","index.js"],"names":["InfoUsers","roleExiste","role","sessionStorage","getItem","_token","JSON","parse","user","token","access_token","atob","split","authorities","includes","AuthContext","createContext","types","login","logout","authReducer","state","arguments","length","undefined","action","type","payload","logged","USER_KEY","TOKEN_KEY","init","AuthProvider","_ref","children","dispatch","useReducer","isAdmin","setIsAdmin","useState","useEffect","setItem","stringify","existe","_jsx","Provider","value","Footer","year","className","_jsxs","axiosConfig","axios","create","baseURL","process","interceptors","response","use","error","status","localStorage","clear","Promise","reject","headers","btoa","async","params","URLSearchParams","set","username","password","post","console","log","NavBar","isNavCollapsed","setIsNavCollapsed","history","useNavigate","useContext","id","Link","to","tabIndex","onClick","handleNavCollapse","concat","NavLink","href","nombre","e","preventDefault","replace","getUserById","defaults","common","get","data","edit","put","uploadImage","formData","FormData","append","file","messages","LOGIN_INCORRECTO","ERROR_REGISTRO","ERROR_GENERAL","CREDS_INVALIDAS","REG_EXITOSO","CHANGE_EXITOSO","ERROR_MODIFICAR","ERROR_REGISTRO_CASO","urlImg","defaultImg","initialUser","apellido","fecha_nacimiento","image","imageSrc","Profile","loading","setLoading","setUser","errors","setErrors","loadingImg","setLoadingImg","img","Image","src","onload","isMounted","r","roles","updatedUser","startsWith","fetchUser","handleValidation","useCallback","newErrors","isValid","handleChange","target","name","alt","accept","onChange","files","url","URL","createObjectURL","prevUser","onSubmit","checked","Swal","fire","_e$response","_e$response$data","errorMsg","message","autoComplete","htmlFor","placeholder","required","disabled","obtenerTodos","crear","caso","marker","MapEdit","Component","constructor","props","super","map","maps","center","lat","lng","zoom","handleApiLoaded","this","setState","_onClickMap","event","location","setPosition","Marker","position","draggable","label","streetViewControl","onClickMap","getLocation","navigator","geolocation","getCurrentPosition","showPosition","coords","latitude","longitude","componentDidMount","render","style","height","width","GoogleMapReact","bootstrapURLKeys","key","defaultCenter","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","Reportar","today","offset","now","Date","d","String","getDate","padStart","m","getMonth","y","getFullYear","delitos","setDelitos","mapa","descripcion","delito_id","setCaso","fecha_hora","latitud","longitud","altitud","url_mapa","rmi_url","controls","maxDate","cargarDelitos","mapSt","prevCaso","rmiUrl","mapUrl","sendRegister","prev","handleChangeDelito","errorMessages","useMemo","max","NoAuthorized","Modal","title","Create","_Fragment","CrimesTable","scope","_ref2","agregadoPor","PrintButton","_ref3","tableRef","print","pdf","jsPDF","fromHTML","current","save","Crimes","useRef","ref","NotFound","MenuRoutes","Routes","Route","path","element","Perfil","NeutralRoute","Card","texto","subtitle","cardsContent","About","c","AnyReactComponent","text","color","background","MapView","locations","then","catch","marginBottom","l","i","urlMap","NeutralRoutes","PrivateRoute","Navigate","PublicRoute","LoginApp","navigate","usr","setUsr","lastAtPos","lastIndexOf","lastDotPos","sendLogin","lastPath","finally","register","Register","o","minDate","terms","setTerms","indexOf","autocomplete","min","changeTerms","PublicRoutes","AppRouter","App","require","config","ReactDOM","BrowserRouter","document","getElementById"],"mappings":"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","file":"static/js/main.fe661276.chunk.js","sourcesContent":["export const InfoUsers = {\n\n    roleExiste(role) {\n        if(sessionStorage.getItem('user') != null){\n            const _token = JSON.parse(sessionStorage.getItem('user'));\n            \n            if(_token){\n                if(_token.user){\n                    const token = _token.user.access_token;\n                    const payload = JSON.parse(atob(token.split(\".\")[1]));\n                    const existe = payload.authorities.includes(role);\n                    return existe;\n                }\n                return false;\n            }\n            return false;\n        }\n        return false;\n    },\n};","import { createContext } from 'react';\n\nexport const AuthContext = createContext();\n","export const types = {\n    login: '[auth] login',\n    logout: '[auth] logout',\n}","import { types } from \"../types/types\";\n\nexport const authReducer = (state = {}, action) => {\n    switch(action.type){\n        case types.login:\n            return{\n                ...action.payload,\n                logged: true\n            }\n        case types.logout:\n            return {\n                logged: false\n            }\n        default:\n            return state;\n    }\n}","import React, { useEffect, useReducer, useState } from 'react';\nimport { InfoUsers } from '../utils/InfoUsers';\nimport { AuthContext } from './AuthContext';\nimport { authReducer } from './authReducer';\n\nconst USER_KEY = 'user';\nconst TOKEN_KEY = 'token';\n\nconst init = () => JSON.parse(sessionStorage.getItem(USER_KEY)) || { logged: false };\n\nexport default function AuthProvider({ children }) {\n  const [user, dispatch] = useReducer(authReducer, {}, init);\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  useEffect(() => {\n    sessionStorage.setItem(USER_KEY, JSON.stringify(user));\n    if (user.user) {\n      sessionStorage.setItem(TOKEN_KEY, user.user.access_token);\n    }\n    const existe = InfoUsers.roleExiste('ROLE_ADMIN');\n    setIsAdmin(existe);\n  }, [user]);\n\n  return (\n    <AuthContext.Provider value={{ user, dispatch, isAdmin }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}","import React from 'react';\nimport './Footer.css';\n\nexport default function Footer({year}) {\n    return (\n        <footer className=\"footer mt-auto py-3\">\n            <div className=\"container\">\n                <span className=\"text-muted\">IUDigital &copy; {year}</span>\n            </div>\n        </footer>\n    )\n}\n","import axios from \"axios\";\n\nexport const axiosConfig = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n});\n\n// cuando el servicio regrese un 401 devuelva a Login\n//You can intercept requests or responses before they are handled by then or catch.\naxiosConfig.interceptors.response.use(\n  response => {\n    return response;\n  },\n  error => {\n    if (\n      error &&\n      error.response &&\n      (error.response.status === 401 || error.response.status === 403)\n    ) {\n      localStorage.clear();\n      sessionStorage.clear();\n      //window.location.pathname = \"/login\";\n    }\n    return Promise.reject(error);\n});","import { axiosConfig } from \"../config/axiosConfig\";\n\nconst credenciales = btoa(process.env.REACT_APP_NAME + ':' + process.env.REACT_APP_AUTH_PASSWORD);\nconst headers = {\n    'Content-Type': 'application/x-www-form-urlencoded',\n    'Authorization': 'Basic ' + credenciales,\n};\n\nexport const login = async (user) => {\n        const params = new URLSearchParams();\n        params.set('grant_type', 'password');\n        params.set('username', user.username);\n        params.set('password', user.password);\n        return await axiosConfig.post(\n                process.env.REACT_APP_AUTH_URL,\n                params, {\n                    headers: headers\n                }\n            );\n}\n\nexport const logout = () => {\n    console.log('logout auth service')\n    sessionStorage.clear();\n}","import React, { useContext, useState } from 'react'\nimport { Link, NavLink, useNavigate } from 'react-router-dom'\nimport {AuthContext} from '../../auth/AuthContext';\nimport { logout } from '../../services/AuthService';\nimport { types } from '../../types/types';\nimport './NavBar.css';\n\nexport default function NavBar() {\n\n    const [isNavCollapsed, setIsNavCollapsed] = useState(true);\n\n    const history = useNavigate();\n\n    const {user: {user}, dispatch, isAdmin } = useContext(AuthContext);\n    const sendLogout = (e) => {\n        e.preventDefault();\n        history('/login', { replace: true })\n        dispatch({\n            type: types.logout\n        })\n        logout();\n    }\n\n    const handleNavCollapse = () => setIsNavCollapsed(!isNavCollapsed);\n\n    return (\n    <nav \n        id=\"navbar-example2\" \n        className=\"navbar navbar-expand-lg navbar-light bg-light px-3\"\n    >\n            {user && (\n        <Link to=\"/private/profile\" className=\"navbar-brand\" tabIndex={0} aria-label=\"Ir al Inicio\">HelpMeIUD</Link>\n    )}\n    {!user && (\n        <Link to=\"/login\" className=\"navbar-brand\" tabIndex={0} aria-label=\"Ir al Inicio\">HelpMeIUD</Link>\n    )}\n    \n     <button className=\"custom-toggler navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarsExample09\" aria-controls=\"navbarsExample09\" aria-expanded={!isNavCollapsed ? true : false} aria-label=\"Toggle navigation\" \n     onClick={handleNavCollapse}>\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n      <div className={`${isNavCollapsed ? 'collapse' : ''} navbar-collapse`} id=\"navbarsExample09\">\n\n\n    <ul className=\"navbar-nav\">\n        \n        {\n            //<!-- chromevox classic extension-->\n          !user && (\n            <NavLink\n            tabIndex={1}\n            data-target=\"#\"\n            className=\"nav-item nav-link\" \n            to=\"/login\"\n          >\n            Login\n           </NavLink>\n          )\n        }\n\n        {!user && (\n        <NavLink\n        tabIndex={2}\n            className=\"nav-item nav-link\" \n            to=\"/register\"\n         >\n            Registro\n        </NavLink>)}\n        <NavLink\n            tabIndex={3}\n            className=\"nav-item nav-link\" \n            to=\"/public/map\"\n         >\n            Mapa\n        </NavLink>\n        {user && (\n                    <NavLink\n                    className=\"nav-item nav-link\" \n                    to=\"/private/report\"\n                 >\n                    Reportar\n                </NavLink>\n        )}\n        {(user && isAdmin) && (\n        <NavLink\n            className=\"nav-item nav-link\" \n            to=\"/private/delitos\"\n        >\n            Delitos\n        </NavLink>\n        )}\n        <NavLink\n            tabIndex={4}\n            className=\"nav-item nav-link\" \n            to=\"/public/about\"\n         >\n            Acerca\n        </NavLink>\n        {user && (\n            <li className=\"nav-item dropdown logout\">\n                    <a className=\"nav-link dropdown-toggle\" data-bs-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-expanded=\"false\">\n                        {user.nombre}\n                    </a>\n                <ul className=\"dropdown-menu\">\n                <NavLink\n                    className=\"dropdown-item\" \n                    to=\"/private/profile\"\n                 >\n                     Mi Perfil\n                 </NavLink>\n                 <li><hr className=\"dropdown-divider\"/></li>\n                 <li >\n                   <a className=\"dropdown-item\"  href=\"#\" onClick={sendLogout}>  Salir</a>\n                 </li>\n                </ul>\n                </li>\n        )}\n    </ul>\n    </div>\n    </nav>\n    )\n}\n","import {\n    axiosConfig\n} from \"../../config/axiosConfig\";\n\n\nexport const getUserById = async () => {\n\n    axiosConfig.defaults.headers.common['Authorization'] = `Bearer ${sessionStorage.getItem('token')}`;\n\n    const url = \"/usuarios/profile\";\n    const resp = await axiosConfig.get(url);\n    return resp.data;\n}\n\nexport const edit = async (user) => {\n\n    axiosConfig.defaults.headers.common['Authorization'] = `Bearer ${sessionStorage.getItem('token')}`;\n\n    const url = \"/usuarios/profile\";\n    console.log(user);\n    return await axiosConfig.put(url, user);\n}\n\nexport const uploadImage = async (file) => {\n    axiosConfig.defaults.headers.common['Authorization'] = `Bearer ${sessionStorage.getItem('token')}`;\n\n    const url = \"/usuarios/upload\";\n    const formData = new FormData();\n    formData.append(\"image\", file);\n    const resp = await axiosConfig.post(url, formData);\n    return resp.data;\n}","export const messages = {\n    LOGIN_INCORRECTO: 'Error al intentar ingresar',\n    ERROR_REGISTRO: 'Hubo un error al intentar registrarse',\n    ERROR_GENERAL: 'Hubo un error',\n    CREDS_INVALIDAS: 'Credenciales inválidas',\n    REG_EXITOSO: 'Registro exitoso',\n    CHANGE_EXITOSO: 'Edición exitosa',\n    ERROR_MODIFICAR: 'Error al intentar modificar',\n    ERROR_REGISTRO_CASO: 'Error al registrar caso'\n};\n","import React, { useEffect, useState, useCallback, useMemo } from 'react';\nimport Swal from 'sweetalert2';\nimport { getUserById, edit, uploadImage } from '../../services/private/UserProfileService';\nimport {messages} from '../../utils/messages';\nimport './Profile.css';\nimport PropTypes from 'prop-types';\n\nconst urlImg = process.env.REACT_APP_URL_IMG;\nconst defaultImg = `${urlImg}/default.jpg`;\nconst initialUser = {\n    nombre: '',\n    apellido: '',\n    fecha_nacimiento: '',\n    image: '',\n    imageSrc: defaultImg, // Inicialmente se asigna la imagen por defecto\n};\n\nexport default function Profile() {\n    const [loading, setLoading] = useState(false);\n    const [user, setUser] = useState(initialUser);\n    const [errors, setErrors] = useState({\n        nombre: '',\n        apellido: '',\n        password: '',\n        fecha_nacimiento: '',\n    });\n    const [loadingImg, setLoadingImg] = useState(true);\n\n    useEffect(() => {\n        const img = new Image();\n        img.src = user.imageSrc;\n        img.onload = () => setLoadingImg(false);\n    }, [user.imageSrc]);\n\n    useEffect(() => {\n        let isMounted = true;\n        \n        const fetchUser = async () => {\n            try {\n                const r = await getUserById();\n                if (r.roles) delete r.roles; // Eliminar el campo roles si existe\n                let updatedUser = { ...r };\n                updatedUser.imageSrc = r.image\n                    ? r.image.startsWith('http')\n                        ? r.image\n                        : `${urlImg}/${r.image}`\n                    : defaultImg;\n\n                if (isMounted) setUser(updatedUser);\n            } catch (e) {\n                console.error(e);\n            }\n        };\n\n        fetchUser();\n\n        return () => { isMounted = false };\n    }, []);\n\n    const handleValidation = useCallback(() => {\n        const newErrors = {};\n        let isValid = true;\n\n        if (!user.nombre) {\n            isValid = false;\n            newErrors.nombre = 'Nombre requerido';\n        }\n        if (!user.apellido) {\n            isValid = false;\n            newErrors.apellido = 'Apellido requerido';\n        }\n        if (!user.fecha_nacimiento) {\n            isValid = false;\n            newErrors.fecha_nacimiento = 'Fecha requerida';\n        }\n\n        setErrors(newErrors);\n        return isValid;\n    }, [user]);\n\n    const sendRegister = async (e) => {\n        e.preventDefault();\n        if (handleValidation()) {\n            setLoading(true);\n            try {\n                await edit(user);\n                setUser({ ...user });\n                e.target[5].checked = false;\n                Swal.fire('OK', 'Cambios guardados exitosamente', 'success');\n            } catch (e) {\n                const errorMsg = e.response?.data?.message || 'Error al modificar';\n                Swal.fire('Error', errorMsg, 'error');\n            } finally {\n                setLoading(false);\n            }\n        }\n    };\n\n    const handleChange = (e) => {\n        setUser({\n            ...user,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    const handleFile = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        try {\n            const file = e.target.files[0];\n            const url = URL.createObjectURL(file);\n            setUser(prevUser => ({\n                ...prevUser,\n                image: file,\n                imageSrc: url,\n            }));\n            await uploadImage(file);\n        } catch (e) {\n            console.error(e);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"container\">\n            <div className=\"col-md-7 col-lg-8 my-3\">\n                <label id=\"labelimage\">\n                    <img src={user.imageSrc} alt=\"Imagen de perfil\" className=\"avatar\"/>\n                    {(loading || loadingImg) && (\n                        <div className=\"spinner-grow spinner-grow-lg\" role=\"status\">\n                            <span className=\"sr-only\">Cargando...</span>\n                        </div>\n                    )}\n                    <div id=\"camera\">\n                        <i className=\"fas fa-camera\"></i>\n                    </div>\n                    <input type=\"file\" accept=\"image/*\" id=\"fileimage\" onChange={handleFile} />\n                </label>\n\n                <form\n                    className=\"needs-validation\"\n                    onSubmit={sendRegister}\n                    autoComplete=\"off\"\n                >\n                    <div className=\"row g-3\">\n                        <div className=\"col-sm-6\">\n                            <label htmlFor=\"nombre\" className=\"form-label\">Nombre <span className=\"text-muted\">*</span></label>\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                id=\"nombre\"\n                                placeholder=\"Juanito\"\n                                name=\"nombre\"\n                                value={user.nombre}\n                                onChange={handleChange}\n                                required\n                            />\n                            <div className=\"invalid-feedback d-block\">{errors.nombre}</div>\n                        </div>\n\n                        <div className=\"col-sm-6\">\n                            <label htmlFor=\"apellido\" className=\"form-label\">Apellido <span className=\"text-muted\">*</span></label>\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                id=\"apellido\"\n                                placeholder=\"Doe\"\n                                name=\"apellido\"\n                                value={user.apellido}\n                                onChange={handleChange}\n                                required\n                            />\n                            <div className=\"invalid-feedback d-block\">{errors.apellido}</div>\n                        </div>\n\n                        <div className=\"col-12\">\n                            <label htmlFor=\"username\" className=\"form-label\">Email <span className=\"text-muted\">*</span></label>\n                            <input\n                                type=\"email\"\n                                className=\"form-control\"\n                                id=\"username\"\n                                placeholder=\"you@example.com\"\n                                name=\"username\"\n                                value={user.username || ''}\n                                disabled\n                            />\n                        </div>\n\n                        <div className=\"col-12\">\n                            <label htmlFor=\"password\" className=\"form-label\">Contraseña <span className=\"text-muted\">*</span></label>\n                            <input\n                                type=\"password\"\n                                className=\"form-control\"\n                                id=\"password\"\n                                name=\"password\"\n                                value={user.password || ''}\n                                onChange={handleChange}\n                                required\n                                autoComplete=\"new-password\"\n                            />\n                            <div className=\"invalid-feedback d-block\">{errors.password}</div>\n                        </div>\n\n                        <div className=\"col-12\">\n                            <label htmlFor=\"fecha_nacimiento\" className=\"form-label\">Fecha de Nacimiento <span className=\"text-muted\">*</span></label>\n                            <input\n                                type=\"date\"\n                                className=\"form-control\"\n                                id=\"fecha_nacimiento\"\n                                name=\"fecha_nacimiento\"\n                                value={user.fecha_nacimiento}\n                                onChange={handleChange}\n                                required\n                            />\n                            <div className=\"invalid-feedback d-block\">{errors.fecha_nacimiento}</div>\n                        </div>\n                    </div>\n                    <hr className=\"my-4\" />\n                    <button\n                        type=\"submit\"\n                        className=\"btn btn-primary w-50 btn-lg button-standard\"\n                        disabled={loading}\n                    >\n                        {loading && (\n                            <span\n                                className=\"spinner-border spinner-border-sm\"\n                                role=\"status\"\n                                aria-hidden=\"true\"\n                            />\n                        )}\n                        Enviar\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nProfile.propTypes = {\n    loading: PropTypes.bool,\n};","import { axiosConfig } from \"../../config/axiosConfig\";\n\nexport const obtenerTodos = () => {\n        return axiosConfig.get(\"/delitos\");\n}\n","import { axiosConfig } from \"../../config/axiosConfig\";\n\n\nexport const crear = async (caso = {}) => {\n    axiosConfig.defaults.headers.common['Authorization'] = `Bearer ${sessionStorage.getItem('token')}`;\n    return await axiosConfig.post(\n        process.env.REACT_APP_BASE_URL+\"/casos\", caso\n    );\n}","import React, { Component } from 'react';\nimport GoogleMapReact from 'google-map-react';\n\nlet marker;\n\nclass MapEdit extends Component {\n  constructor(props) {\n    super(props);\n  }\n  state = {\n    map: null,\n    maps: null,\n    center: {\n      lat: 59.95,\n      lng: 30.33\n    },\n    zoom: 11,\n  };\n\n  handleApiLoaded = (map, maps) => {\n    this.setState({map});\n    this.setState({maps});\n\n}\n\n_onClickMap = (event) => {\n    console.log(event)\n    console.log(this.state.map)\n    console.log(this.state.maps)\n    const location = {lat: event.lat, lng: event.lng};\n    if(marker){\n        console.log(location)\n        marker.setPosition(location);\n    }else{\n        marker = new this.state.maps.Marker({\n            position: location,\n            draggable: true,\n            label: location.lat + \", \" + location.lng,\n            map: this.state.map,\n            streetViewControl: true\n        });\n    }\n\n    this.props.onClickMap(event, this.state.map)\n}\n\n  getLocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.showPosition);\n    } else {\n      console.log(\"Geolocation is not supported by this browser.\");\n    }\n  }\n  \n  showPosition = (position) => {\n    this.setState({center: {lat: position.coords.latitude,\n    lng: position.coords.longitude}});\n  }\n\n  componentDidMount = () => {\n    this.getLocation();\n  }\n\n  render() {\n    return (\n      // Important! Always set the container height explicitly\n      <div style={{ height: '100vh', width: '100%' }}>\n        <GoogleMapReact\n          bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_MAPS_KEY }}\n          defaultCenter={this.state.center}\n          defaultZoom={this.state.zoom}\n          draggable=\"true\"\n          yesIWantToUseGoogleMapApiInternals={true}\n          onGoogleApiLoaded={({ map, maps }) => this.handleApiLoaded( map, maps)}\n          onClick={this._onClickMap}\n        >\n        </GoogleMapReact>\n      </div>\n    );\n  }\n}\n\nexport default MapEdit;","import React, { useContext, useEffect, useState, useCallback, useMemo } from 'react';\nimport { AuthContext } from '../../auth/AuthContext';\nimport { obtenerTodos } from '../../services/public/DelitoService';\nimport { crear } from '../../services/private/CasoService';\nimport Swal from 'sweetalert2';\nimport { messages } from '../../utils/messages';\nimport '../../index.css';\nimport MapEdit from '../maps/MapEdit';\n\nexport default function Reportar() {\n\n  const today = useCallback((offset = 0) => {\n    const now = new Date();\n    const d = String(now.getDate()).padStart(2, '0');\n    const m = String(now.getMonth() + 1).padStart(2, '0');\n    const y = now.getFullYear() - offset;\n    return `${y}-${m}-${d}`;\n  }, []);\n\n  const { user: { user } } = useContext(AuthContext);\n  const [loading, setLoading] = useState(false);\n  const [delitos, setDelitos] = useState([]);\n  const [errors, setErrors] = useState({ mapa: '', descripcion: '', delito_id: '' });\n  const [caso, setCaso] = useState({\n    fecha_hora: '',\n    latitud: 0,\n    longitud: 0,\n    altitud: 0,\n    descripcion: '',\n    url_mapa: '',\n    rmi_url: '',\n    delito_id: 0\n  });\n  const [controls] = useState({ maxDate: today() });\n\n  useEffect(() => {\n    const cargarDelitos = async () => {\n      try {\n        const response = await obtenerTodos();\n        setDelitos(response.data);\n      } catch (error) {\n        console.error('Error fetching delitos:', error);\n      }\n    };\n    cargarDelitos();\n  }, [today]);\n\n  const _onClickMap = useCallback((e, mapSt) => {\n    const location = { lat: e.lat, lng: e.lng };\n    setCaso(prevCaso => ({\n      ...prevCaso,\n      latitud: location.lat,\n      longitud: location.lng,\n      rmi_url: mapSt.rmiUrl,\n      url_mapa: mapSt.mapUrl\n    }));\n  }, []);\n\n  const handleValidation = useCallback(() => {\n    const errors = {};\n    let isValid = true;\n    if (!caso.descripcion) {\n      isValid = false;\n      errors.descripcion = \"Descripción requerida\";\n    }\n    if (caso.fecha_hora > today()) {\n      errors.fecha_hora = \"No puede ser mayor a hoy\";\n    }\n    if (!caso.url_mapa) {\n      isValid = false;\n      errors.mapa = \"Ubique un punto en el mapa\";\n    }\n    if (!caso.delito_id) {\n      isValid = false;\n      errors.delito_id = \"Seleccione delito\";\n    }\n    setErrors(errors);\n    return isValid;\n  }, [caso, today]);\n\n  const sendRegister = useCallback(async (e) => {\n    e.preventDefault();\n    if (handleValidation()) {\n      setLoading(true);\n      try {\n        await crear(caso);\n        setCaso({\n          fecha_hora: '',\n          latitud: 0,\n          longitud: 0,\n          altitud: 0,\n          descripcion: '',\n          url_mapa: '',\n          rmi_url: '',\n          delito_id: 0\n        });\n        Swal.fire('OK', messages.REG_EXITOSO, 'success');\n      } catch (error) {\n        console.error('Error creating caso:', error);\n        Swal.fire('Error', messages.ERROR_REGISTRO_CASO, 'error');\n      } finally {\n        setLoading(false);\n      }\n    }\n  }, [caso, handleValidation]);\n\n  const handleChange = useCallback((e) => {\n    setCaso(prev => ({ ...prev, [e.target.name]: e.target.value }));\n  }, []);\n\n  const handleChangeDelito = useCallback((e) => {\n    setCaso(prev => ({ ...prev, delito_id: e.target.value }));\n  }, []);\n\n  const errorMessages = useMemo(() => errors, [errors]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"col-md-12 col-lg-12 mb-6\">\n        <h4 className=\"mb-3\">Reportar caso</h4>\n        <form className=\"needs-validation\" onSubmit={sendRegister}>\n          <div className=\"row clear\">\n            <div className=\"col-12\">\n              <label htmlFor=\"fecha_hora\" className=\"form-label\">\n                Fecha del suceso <span className=\"text-muted\">*</span>\n              </label>\n              <input\n                max={controls.maxDate}\n                type=\"datetime-local\"\n                className=\"form-control\"\n                id=\"fecha_hora\"\n                name=\"fecha_hora\"\n                value={caso.fecha_hora}\n                onChange={handleChange}\n              />\n              <div className=\"invalid-feedback d-block\">{errorMessages.fecha_hora}</div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"invalid-feedback d-block\">{errorMessages.mapa}</div>\n              <div style={{ height: '100vh', width: '100%' }}>\n                <MapEdit onClickMap={_onClickMap} />\n              </div>\n              <div className=\"invalid-feedback d-block\">{errorMessages.mapa}</div>\n            </div>\n          </div>\n          <div className=\"row my-4\">\n            <div className=\"col-sm-6 col-lg-6\">\n              <label htmlFor=\"delito_id\" className=\"form-label\">\n                Delito <span className=\"text-muted\">*</span>\n              </label>\n              <select\n                className=\"form-control\"\n                id=\"delito_id\"\n                name=\"delito_id\"\n                onChange={handleChangeDelito}\n                required\n              >\n                <option value=\"\"> -- Selecciona delito -- </option>\n                {delitos.map(d => (\n                  <option key={d.id} value={d.id}>{d.nombre}</option>\n                ))}\n              </select>\n              <div className=\"invalid-feedback d-block\">{errorMessages.delito_id}</div>\n            </div>\n            <div className=\"col-sm-6\">\n              <label htmlFor=\"descripcion\" className=\"form-label\">\n                Descripción <span className=\"text-muted\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"descripcion\"\n                placeholder=\"Descripción breve\"\n                name=\"descripcion\"\n                value={caso.descripcion}\n                onChange={handleChange}\n                required\n              />\n              <div className=\"invalid-feedback d-block\">{errorMessages.descripcion}</div>\n            </div>\n            <hr className=\"my-1\" />\n            <button\n              disabled={loading}\n              className=\"w-50 btn btn-primary btn-lg button-standard\"\n              type=\"submit\"\n            >\n              {loading && (\n                <span\n                  className=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                />\n              )}\n              Enviar\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}","import React from 'react';\n\nexport default function NoAuthorized() {\n    return (\n        <div className=\"container\">\n            <h1 className='d-none'>None</h1>\n            <h2>403 No Autorizado!</h2>\n            <figure className=\"figure\">\n            <img width=\"50%\" src=\"https://www.elsoldeacapulco.com.mx/incoming/xsdneb-nino-que-llora-desconsolado./ALTERNATES/LANDSCAPE_1140/Ni%C3%B1o%20que%20llora%20desconsolado.\" className=\"figure-img img-fluid rounded d-block\" alt=\"\"/>\n            <figcaption className=\"figure-caption mx-auto\">No estás autorizado!</figcaption>\n            </figure>\n        </div>\n    )\n}\n","import React from 'react'\n\nexport default function Modal({title}) {\n    return (\n        <div className=\"modal fade\" id=\"exampleModalToggle\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabIndex={-1}>\n        <div className=\"modal-dialog modal-dialog-centered\">\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\" id=\"exampleModalToggleLabel\">{title}</h5>\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div className=\"modal-body\">\n            <form>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"name\" className=\"form-label\">Nombre</label>\n                    <input type=\"text\" className=\"form-control\" id=\"name\" aria-describedby=\"name\"/>\n                    <div id=\"name\" className=\"form-text\">We'll never share your email with anyone else.</div>\n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"description\" className=\"form-label\">Descripción</label>\n                    <input type=\"text\" className=\"form-control\" id=\"description\"/>\n                </div>\n                \n            </form>\n            </div>\n            <div className=\"modal-footer\">\n                <button className=\"btn btn-primary\">Enviar</button>\n            </div>\n            </div>\n        </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport Modal from '../ui/Modal'\n\nexport default function Create() {\n    const title = \"Agregar Delito\";\n    return (\n        <>\n            <Modal title={title}/>\n        </>\n    )\n}\n","import React, { useContext, useRef } from 'react';\nimport { AuthContext } from '../../auth/AuthContext';\nimport NoAuthorized from '../ui/NoAuthorized';\nimport '../../index.css';\nimport Create from './Create';\nimport jsPDF from 'jspdf';\n\nconst CrimesTable = ({ data }) => {\n    return (\n        <div className=\"table-responsive mb-5\">\n            <table className=\"table\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">Id</th>\n                        <th scope=\"col\">Nombre</th>\n                        <th scope=\"col\">Descripción</th>\n                        <th scope=\"col\">Agregado por</th>\n                        <th scope=\"col\"></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {data.map(({ id, nombre, descripcion, agregadoPor }) => (\n                        <tr className=\"table-active\" key={id}>\n                            <th scope=\"row\">{id}</th>\n                            <td>{nombre}</td>\n                            <td>{descripcion}</td>\n                            <td>{agregadoPor}</td>\n                            <td>\n                                <button className=\"btn btn-outline-primary\" title=\"Editar\">\n                                    <i className=\"fa fa-edit\"></i>\n                                </button>\n                                <button className=\"btn btn-outline-danger\" title=\"Eliminar este\">\n                                    <i className=\"fa fa-trash-alt\"></i>\n                                </button>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nconst PrintButton = ({ tableRef }) => {\n    const print = () => {\n        const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n        pdf.fromHTML(tableRef.current, 15, 15, {\n            'width': 170,\n        });\n        pdf.save(\"report.pdf\");\n    };\n\n    return (\n        <button className=\"btn btn-outline-primary\" title=\"Imprimir PDF\" onClick={print}>\n            <i className=\"fas fa-print\"></i>\n        </button>\n    );\n};\n\nexport default function Crimes() {\n    const { isAdmin } = useContext(AuthContext);\n    const tableRef = useRef();\n\n    const tableData = [\n        { id: 1, nombre: 'Hurto', descripcion: 'cuando se quitan pertenencias', agregadoPor: 'julio' },\n        { id: 2, nombre: 'Acoso Sexual', descripcion: 'Groserías a una persona', agregadoPor: 'julio' }\n    ];\n\n    return (\n        <>\n            {isAdmin ? (\n                <div className=\"container\" ref={tableRef}>\n                    <CrimesTable data={tableData} />\n                    <button\n                        data-bs-toggle=\"modal\"\n                        href=\"#exampleModalToggle\"\n                        className=\"btn btn-outline-success\"\n                        title=\"Agregar nuevo\"\n                    >\n                        <i className=\"fas fa-plus-circle\"></i>\n                    </button>\n                    <PrintButton tableRef={tableRef} />\n                </div>\n            ) : (\n                <NoAuthorized />\n            )}\n            <Create />\n        </>\n    );\n}","import React from 'react'\n\nexport default function NotFound() {\n  return (\n    <div className=\"container\">\n        <h1 className='d-none'>None</h1>\n        <h2>404 No Found!</h2>\n        <figure className=\"figure\">\n        <img width=\"50%\" src=\"https://memecrunch.com/meme/33SOY/i-found-it/image.jpg?w=640&c=1\" className=\"figure-img img-fluid rounded d-block\" alt=\"\"/>\n        <figcaption className=\"figure-caption mx-auto\">No se encuentra recurso!</figcaption>\n        </figure>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Route, Routes } from 'react-router-dom'\nimport Perfil from '../components/user/Profile';\nimport Reportar from '../components/cases/Reportar';\nimport Crimes from '../components/crimes/Crimes';\nimport NotFound from '../components/ui/NotFound';\n\nexport default function MenuRoutes() {\n    return (\n        <Routes>\n            <Route path=\"/delitos\" element={ <Crimes/> } />\n            <Route path=\"/report\" element={ <Reportar/> } />\n            <Route path=\"/profile\" element={ <Perfil/> } />\n            <Route path=\"*\" element= { <NotFound />}/>\n        </Routes> \n    )\n}\n","export default function NeutralRoute({ children }) {\n  return (children)\n}\n","import React, { useEffect, useState } from 'react'\n\nexport default function Card(props) {\n    \n    const {title, texto, subtitle, src } = props;\n\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const img = new Image();\n        img.src = src;\n        img.onload = () => {\n            setLoading(false);\n        };\n      }, [src]);\n    return (\n    <div className=\"card\">\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">{title}</h5>\n            <p className=\"card-text\">{texto}</p>\n            <p className=\"card-text\">\n                <small className=\"text-muted\">\n                    {subtitle}\n                </small>\n            </p>\n        </div>\n        {loading\n          ?\n          <div className=\"spinner-border m-5\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n          :\n          <img \n            {...{ src: '', ...props }}\n            alt=\"\"\n            className=\"image\"\n          />\n        }\n\n    </div>\n    )\n}\n","import React from 'react';\nimport Card from './ui/Card';\nimport '../index.css';\n\n// simulamos una tabla\nconst cardsContent = [\n    {\n        id: 1,\n        title: '¿Quienes somos?',\n        texto: 'HelmeIUD nace para combatir la violencia, los hechos que no son noticia y quedan impunes...',\n        subtitle: 'HelmeIUD',\n        src: 'https://www.iudigital.edu.co/images/Noticias/2024/Boletin_19/Danilo%20y%20su%20familia.webp'\n    },\n    {\n        id: 2,\n        title: 'Proyecto',\n        texto: 'Ayudar en comunidad a estar prevenidos por la ola de violencia que asota la ciudad en los distintos sitios...',\n        subtitle: 'Unidos somos más',\n        src: 'https://www.iudigital.edu.co/images/Noticias/2024/Boletin_17/Banner_Alexandra.webp'\n    }\n]\n\nexport default function About() {\n\n    return (\n        <div className=\"container my-3\">\n            <div className=\"row row-cols-1 row-cols-md-3 g-4 needs-validation\">\n            {\n                cardsContent.map(c => {\n                    return (\n                        <div className=\"col\" key = {c.id}>\n                        <Card \n                            \n                            title={c.title}\n                            texto={c.texto}\n                            subtitle={`HelmeIUD`} \n                            src={c.src}\n                        />\n                        </div> \n                    )\n                })\n            }\n            </div>\n        </div>\n    )\n}\n","import {axiosConfig} from '../../config/axiosConfig';\n\nexport const getAllCasos = () => {\n    const URL = '/casos';\n    return axiosConfig.get(URL);\n}","import React, {\n  Component\n} from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport { getAllCasos } from '../../services/public/MapService';\nimport '../../index.css';\n\nconst AnyReactComponent = ({\n  text, url, nombre, lat, lng\n}) =>\n(<i className='fas fa-user-secret' style = {{color: \"red\", background: \"white\"}} data-toggle=\"tooltip\" data-placement=\"top\" title={`${text} en: ${lat}, ${lng}`}>\n  {<a href={`${process.env.REACT_APP_URL_MAPS}${lat},${lng}`} target={`_blank`}>{nombre}</a>}\n</i>);\nclass MapView extends Component {\n  state = {\n    map: null,\n    maps: null,\n    center: {\n      lat: 6.2440159,\n      lng: -75.5762419\n    },\n    zoom: 11,\n    locations: [],\n  };\n\n  handleApiLoaded = (map, maps) => {\n    this.setState({\n      map\n    });\n    this.setState({\n      maps\n    });\n\n  }\n\n  getLocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.showPosition);\n    } else {\n      console.log(\"Geolocation is not supported by this browser.\");\n    }\n  }\n\n  showPosition = (position) => {\n    console.log(position)\n    this.setState({\n      center: {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      }\n    });\n  }\n\n  componentDidMount = () => {\n    this.getLocation();\n    getAllCasos()\n    .then(c => {\n      console.log(c.data);\n      this.setState({locations: c.data});\n    })\n    .catch(e => {\n      console.log(e);\n    });\n    \n  }\n\n  render() {\n    return (\n    <>\n    <div style = {\n        {\n          height: '100vh',\n          width: '100%',\n          marginBottom: '10vh'\n        }\n      }\n\n      >\n      <GoogleMapReact \n        bootstrapURLKeys = {{key: process.env.REACT_APP_GOOGLE_MAPS_KEY}}\n        defaultCenter = {this.state.center}\n        defaultZoom = {this.state.zoom}\n        yesIWantToUseGoogleMapApiInternals = {true}\n        onGoogleApiLoaded = {({map,maps}) => \n        this.handleApiLoaded(map, maps)} \n      >\n      {\n      this.state.locations.map((l, i) => {\n          return( \n          <AnyReactComponent\n            key = {i}\n            lat = {l.latitud}\n            lng = {l.longitud}\n            text = {l.descripcion}\n            url = {l.urlMap}\n            nombre = {l.nombre}\n          />) \n        })\n      }\n      </GoogleMapReact> \n      </div> \n      </>\n    );\n  }\n}\n\nexport default MapView;","import React from 'react'\nimport { Route, Routes } from 'react-router-dom'\nimport About from '../components/About'\nimport MapView from '../components/maps/MapView'\nimport NotFound from '../components/ui/NotFound'\n\nexport default function NeutralRoutes() {\n  return (\n    <Routes>\n        <Route path=\"/map\" element={ <MapView /> }/>\n        <Route path=\"/about\" element={ <About /> } />\n        <Route path=\"*\" element= { <NotFound />}/>\n    </Routes>\n  )\n}\n","import React, { useContext } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { AuthContext } from '../auth/AuthContext';\n\nexport default function PrivateRoute({ children }) {\n\n    const { user } = useContext(AuthContext);\n\n    return (user.logged)\n        ? children\n        : <Navigate to='/login'/>\n}\n\nPrivateRoute.propTypes = {\n   \n}\n","import React, { useContext } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { AuthContext } from '../auth/AuthContext';\n\nexport default function PublicRoute({ children }) {\n\n    const { user } = useContext(AuthContext);\n    \n    return (!user.logged)\n        ? children\n        : <Navigate to='/private/profile'/>\n}\n\nPublicRoute.propTypes = {\n}\n","import React, { useContext, useEffect, useState, useCallback, useMemo } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../../auth/AuthContext';\nimport { types } from '../../types/types';\nimport { messages } from '../../utils/messages';\nimport Swal from 'sweetalert2';\nimport { login } from '../../services/AuthService';\n\nexport default function LoginApp() {\n    const navigate = useNavigate();\n    const { dispatch } = useContext(AuthContext);\n\n    const [loading, setLoading] = useState(false);\n    const [usr, setUsr] = useState({ username: '', password: '' });\n    const [errors, setErrors] = useState({ username: '', password: '' });\n\n    const handleValidation = useCallback(() => {\n        const errors = {};\n        let isValid = true;\n\n        if (!usr.username) {\n            isValid = false;\n            errors.username = \"Email requerido\";\n        } else {\n            const lastAtPos = usr.username.lastIndexOf('@');\n            const lastDotPos = usr.username.lastIndexOf('.');\n            if (!(lastAtPos < lastDotPos && lastAtPos > 0 && lastDotPos > 2 && (usr.username.length - lastDotPos) > 2)) {\n                isValid = false;\n                errors.username = \"Email no válido\";\n            }\n        }\n\n        if (!usr.password) {\n            isValid = false;\n            errors.password = \"Contraseña requerida\";\n        }\n\n        setErrors(errors);\n        return isValid;\n    }, [usr]);\n\n    const sendLogin = useCallback((e) => {\n        e.preventDefault();\n        if (handleValidation()) {\n            setLoading(true);\n            login(usr)\n                .then(r => {\n                    const lastPath = localStorage.getItem('lastPath') || '/private/profile';\n                    dispatch({\n                        type: types.login,\n                        payload: { user: r.data }\n                    });\n                    navigate(lastPath, { replace: true });\n                })\n                .catch(e => {\n                    const { data } = e.response || {};\n                    const errorMsg = data?.message || messages.CREDS_INVALIDAS;\n                    Swal.fire('Error', errorMsg, 'error');\n                })\n                .finally(() => {\n                    setLoading(false);\n                });\n        }\n    }, [handleValidation, usr, dispatch, navigate]);\n\n    const handleChange = useCallback((e) => {\n        setUsr(prev => ({ ...prev, [e.target.name]: e.target.value }));\n    }, []);\n\n    const errorMessages = useMemo(() => errors, [errors]);\n\n    return (\n        <div className=\"container\">\n            <div className=\"col-md-7 col-lg-8 my-3\">\n                <h4 className=\"mb-3\">Ingresa</h4>\n                <form onSubmit={sendLogin}>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"username\" className=\"form-label\">Email</label>\n                        <input \n                            autoComplete=\"off\"\n                            name=\"username\"\n                            onChange={handleChange}\n                            required\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"username\"\n                            aria-describedby=\"emailHelp\"\n                            value={usr.username}\n                        />\n                        <div className=\"invalid-feedback d-block\">\n                            {errorMessages.username}\n                        </div>\n                    </div>\n\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"password\" className=\"form-label\">Contraseña</label>\n                        <input\n                            autoComplete=\"new-password\"\n                            name=\"password\"\n                            onChange={handleChange}\n                            required\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"password\"\n                            value={usr.password}\n                        />\n                        <div className=\"invalid-feedback d-block\">\n                            {errorMessages.password}\n                        </div>\n                    </div>\n                    <button\n                        disabled={loading}\n                        type=\"submit\"\n                        className=\"btn btn-primary button-standard\"\n                    >\n                        {loading && (\n                            <span \n                                className=\"spinner-border spinner-border-sm\" \n                                role=\"status\" \n                                aria-hidden=\"true\"\n                            />\n                        )}\n                        Enviar\n                    </button>\n                </form>\n                <Link to=\"/register\">\n                    <p>¿No estás registrado?</p>\n                </Link>\n            </div>\n        </div>\n    );\n}","import { axiosConfig } from \"../config/axiosConfig\";\n\nconst headers = {\n    'Content-Type': 'application/json',\n};\n\nexport const register = async (user) => {\n    const url = \"/usuarios/signup\";\n    console.log(user);\n    return await axiosConfig.post(url, user, {\n        headers\n    });\n}","import React, { useState } from 'react';\nimport { register } from '../../services/UserService';\nimport {messages} from '../../utils/messages';\nimport Swal from 'sweetalert2';\nimport { Link } from 'react-router-dom';\n\nexport default function Register() {\n\n    const today = (o) => {\n        var now = new Date();\n        var d = String(now.getDate()).padStart(2, '0');\n        var m = String(now.getMonth() + 1).padStart(2, '0');\n        var y = now.getFullYear() - o;\n        now = y+'-'+m+'-'+d;\n        return now;\n    }\n\n    const [controls ] = useState({\n        maxDate: today(0),\n        minDate: today(110)\n    });\n\n    const [loading, setLoading] = useState(false);\n    const [user, setUser] = useState({\n        nombre: '',\n        apellido: '',\n        username: '',\n        password: '',\n        fecha_nacimiento:'',\n        image: 'https://d500.epimg.net/cincodias/imagenes/2016/07/04/lifestyle/1467646262_522853_1467646344_noticia_normal.jpg',\n    });\n\n    const [errors, setErrors] = useState({\n        nombre: '',\n        apellido: '',\n        username: '',\n        password: '',\n        fecha_nacimiento:'',\n    });\n\n    const [terms, setTerms] = useState(false);\n    \n    const changeTerms = () => {\n        setTerms(!terms);\n    };\n\n    const handleValidation = () => {\n        let errors = {};\n        let isValid = true;\n        if(!user.nombre){\n            isValid = false;\n            errors[\"nombre\"] = \"Nombre requerido\";\n        }else{\n            errors[\"nombre\"] = \"\";\n        }\n        //apellido\n        if(!user.apellido){\n            isValid = false;\n            errors[\"apellido\"] = \"Apellido requerido\";\n        }else{\n            errors[\"apellido\"] = \"\";\n        }\n        //Email\n        if(!user.username){\n            isValid = false;\n            errors[\"username\"] = \"Email requerido\";\n        }else\n        if(typeof user.username !== \"undefined\" && user.username!==''){\n           let lastAtPos = user.username.lastIndexOf('@');\n           let lastDotPos = user.username.lastIndexOf('.');\n\n           if (!(lastAtPos < lastDotPos && lastAtPos > 0 \n            && user.username.indexOf('@@') === -1 \n            && lastDotPos > 2 \n            && (user.username.length - lastDotPos) > 2)) {\n              isValid = false;\n              errors[\"username\"] = \"Email no válido\";\n            }\n       }else{\n            errors[\"username\"] = \"\";\n       }  \n       // password\n       if(!user.password){\n            isValid = false;\n            errors[\"password\"] = \"Contraseña requerida\";\n        }else{\n            errors[\"password\"] = \"\";\n        }\n        //fecha Nac.\n        if(!user.fecha_nacimiento){\n            isValid = false;\n            errors[\"fecha_nacimiento\"] = \"Fecha requerida\";\n        }else{\n            errors[\"fecha_nacimiento\"] = \"\";\n        }\n       setErrors({...errors});\n       return isValid;\n   }\n\n   const sendRegister = e => {\n        e.preventDefault();\n        setLoading(true);\n        if(handleValidation()){\n            register(user)\n            .then(r => {\n                let user = {\n                    nombre: '',\n                    apellido: '',\n                    username: '',\n                    password: '',\n                    fecha_nacimiento:'',\n                    image: 'https://d500.epimg.net/cincodias/imagenes/2016/07/04/lifestyle/1467646262_522853_1467646344_noticia_normal.jpg',\n                }\n                setUser({...user});\n                setTerms(false);\n                e.target[5].checked = false;\n                setLoading(false);\n                return Swal.fire('OK', messages.REG_EXITOSO, 'success');\n            })\n            .catch(e => {\n                const {data} = e.response;\n                console.log(data);\n                setLoading(false);\n                if(data.message)\n                    return Swal.fire('Error', data.message, 'error');\n                return Swal.fire('Error', messages.ERROR_REGISTRO, 'error');\n            });   \n        } \n    };\n\n    const handleChange = e => {\n        setUser({\n            ...user,\n            [e.target.name]: e.target.value\n        });\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"col-md-7 col-lg-8 my-3\">\n                <h1 className=\"d-none\">1</h1>\n                <h2 className=\"d-none\">2</h2>\n                <h3 className=\"d-none\">3</h3>\n                <h4 className=\"mb-3\">Regístrate</h4>\n                <form \n                className=\"needs-validation\" \n                onSubmit={sendRegister}\n                autocomplete=\"off\"\n                >\n                    <div className=\"row g-3\">\n                        <div className=\"col-sm-6\">\n                        <label htmlFor=\"nombre\" className=\"form-label\">Nombre<span className=\"text-muted\">*</span></label>\n                        <input \n                            type=\"text\" \n                            className=\"form-control\" \n                            id=\"nombre\"\n                            placeholder=\"Juanito\" \n                            required=\"\"\n                            name=\"nombre\"\n                            value={user.nombre}\n                            onChange={handleChange}\n                        />\n                        <div className=\"invalid-feedback d-block\">\n                            {errors.nombre}\n                        </div>\n                        </div>\n\n                        <div className=\"col-sm-6\">\n                        <label htmlFor=\"apellido\" className=\"form-label\">Apellido<span className=\"text-muted\">*</span></label>\n                        <input \n                            type=\"text\" \n                            className=\"form-control\" \n                            id=\"apellido\" \n                            placeholder=\"Doe\" \n                            required=\"\"\n                            name=\"apellido\"\n                            value={user.apellido}\n                            onChange={handleChange}\n                        />\n                        <div className=\"invalid-feedback d-block\">\n                            {errors.apellido}\n                        </div>\n                        </div>\n\n                        <div className=\"col-12\">\n                        <label htmlFor=\"username\" className=\"form-label\">Email <span className=\"text-muted\">*</span></label>\n                        <input \n                            type=\"email\" \n                            className=\"form-control\" \n                            id=\"username\" \n                            placeholder=\"you@example.com\"\n                            name=\"username\"\n                            value={user.username}\n                            onChange={handleChange}\n                            autoComplete=\"off\"\n                        />\n                        <div className=\"invalid-feedback d-block\">\n                            {errors.username}\n                        </div>\n                        </div>\n\n                        <div className=\"col-12\">\n                        <label htmlFor=\"password\" className=\"form-label\">Contraseña<span className=\"text-muted\">*</span></label>\n                        <input \n                            type=\"password\" \n                            className=\"form-control\" \n                            id=\"password\" \n                            placeholder=\"\" \n                            required=\"\"\n                            name=\"password\"\n                            value={user.password}\n                            onChange={handleChange}\n                            autocomplete=\"off\"\n                        />\n                        <div className=\"invalid-feedback d-block\">\n                            {errors.password}\n                        </div>\n                        </div>\n\n                        <div className=\"col-12\">\n                        <label htmlFor=\"fecha_nacimiento\" className=\"form-label\">Fecha de Nacimiento <span className=\"text-muted\">*</span></label>\n                        <input \n                            max={controls.maxDate}\n                            min={controls.minDate}\n                            type=\"date\" \n                            className=\"form-control\" \n                            id=\"fecha_nacimiento\" \n                            name=\"fecha_nacimiento\"\n                            value={user.fecha_nacimiento}\n                            onChange={handleChange}\n                        />\n                        <div className=\"invalid-feedback d-block\">\n                            {errors.fecha_nacimiento}\n                        </div>\n                        </div>\n                    </div>\n\n                    <hr className=\"my-4\"/>\n\n                    <div className=\"form-check\">\n                        <input \n                            type=\"checkbox\" \n                            className=\"form-check-input\" \n                            id=\"save-info\"\n                            onChange={changeTerms}\n                        />\n                        <label className=\"form-check-label\" htmlFor=\"save-info\">Aceptar <a href=\"https://iudigital.edu.co\"> términos y condiciones </a></label>\n                    </div>\n\n                    <hr className=\"my-4\"/>                    \n                    <button\n                        disabled={loading ? 1: 0 || !terms}\n                        type=\"submit\"\n                        className=\"btn btn-primary w-50 btn-lg button-standard\"\n                    >\n                    {loading && (\n                    <span \n                        className=\"spinner-border spinner-border-sm\" \n                        role=\"status\" \n                        aria-hidden=\"true\"\n                    >\n                    </span>\n                    )}\n                        Enviar\n                    </button>\n                </form>\n                <Link to=\"/login\">\n                    <p>¿Ya estás registrado?</p>\n                </Link>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport { Navigate, Route, Routes } from 'react-router-dom'\nimport LoginApp from '../components/login/LoginApp';\nimport Register from '../components/login/Register';\nimport NoAuthorized from '../components/ui/NoAuthorized';\nimport NotFound from '../components/ui/NotFound';\n\nexport default function PublicRoutes() {\n    \n    return (\n        <Routes> \n            <Route path=\"/\" element={<Navigate to=\"/login\" replace />}/>\n            <Route path=\"/login\" element={ <LoginApp /> }/>\n            <Route path=\"/register\" element={ <Register /> } />\n            <Route path=\"/noauthorized\" element= { <NoAuthorized />}/>\n            <Route path=\"*\" element= { <NotFound />}/>\n        </Routes>\n\n    )\n}\n","import React from 'react'\nimport { Route, Routes } from 'react-router-dom';\nimport Footer from '../components/ui/Footer';\nimport NavBar from '../components/ui/NavBar';\nimport MenuRoutes from './MenuRoutes';\nimport NeutralRoute from './NeutralRoute';\nimport NeutralRoutes from './NeutralRoutes';\nimport PrivateRoute from './PrivateRoute';\nimport PublicRoute from './PublicRoute';\nimport PublicRoutes from './PublicRoutes';\n\nexport default function AppRouter() {\n    \n    return (\n        <>\n            <NavBar />\n            <main className=\"flex-shrink-0 mb-7\">\n            <Routes>\n                <Route path='/*' element={\n                    <PublicRoute>\n                        <PublicRoutes />\n                    </PublicRoute>\n                }/>\n\n                <Route path='public/*' element={\n                    <NeutralRoute>\n                        <NeutralRoutes />\n                    </NeutralRoute>\n                }/>\n\n                <Route path='/private/*' element={\n                    <PrivateRoute>\n                        <MenuRoutes/>\n                    </PrivateRoute>\n                }/>\n            </Routes>\n            </main>\n            <Footer year={new Date().getFullYear()}/>\n        </>\n    )\n}\n","import React from 'react';\nimport AuthProvider from './auth/AuthProvider';\nimport AppRouter from './routers/AppRouter';\n\nfunction App() {\n\n  return (\n    <AuthProvider >\n      <AppRouter/>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nrequire('dotenv').config();\n\nReactDOM.render( \n  <BrowserRouter>\n    <App/>\n  </BrowserRouter>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}